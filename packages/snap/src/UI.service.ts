import { JSONObject } from '@0xpolygonid/js-sdk';
import {
  CURRENT_STATE_VERSION,
  JWTHeader,
  JWTPayload,
  QueryCredentialsRequestResult,
} from '@blockchain-lab-um/masca-types';
import {
  Component,
  copyable,
  divider,
  heading,
  image,
  panel,
  text,
} from '@metamask/snaps-sdk';
import { W3CVerifiableCredential } from '@veramo/core';

import StorageService from './storage/Storage.service';

class UIService {
  static origin: string;

  static originWrapper: Component[];

  static async init(origin: string) {
    this.origin = origin;
    this.originWrapper = [text(`Origin: **${origin}**`), divider()];
  }

  static async homePage(did: string, numVCs: number) {
    const component = panel([
      heading('Masca Homepage'),
      divider(),
      text('MY DID'),
      copyable(did),
      divider(),
      image(
        `<svg width="1874" height="953" viewBox="0 0 1874 953" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g filter="url(#filter0_d_0_1)">
        <rect x="16" y="16" width="1834" height="913" rx="175" fill="url(#paint0_linear_0_1)"/>
        </g>
        <path d="M145.67 161.182H158.455L180.682 215.455H181.5L203.727 161.182H216.511V231H206.489V180.477H205.841L185.25 230.898H176.932L156.341 180.443H155.693V231H145.67V161.182ZM226.44 161.182H238.406L256.645 192.92H257.395L275.634 161.182H287.599L262.27 203.591V231H251.77V203.591L226.44 161.182ZM345.554 231H322.952V161.182H346.27C353.111 161.182 358.986 162.58 363.895 165.375C368.804 168.148 372.565 172.136 375.179 177.341C377.815 182.523 379.134 188.739 379.134 195.989C379.134 203.261 377.804 209.511 375.145 214.739C372.509 219.966 368.69 223.989 363.69 226.807C358.69 229.602 352.645 231 345.554 231ZM333.486 221.795H344.974C350.293 221.795 354.713 220.795 358.236 218.795C361.759 216.773 364.395 213.852 366.145 210.034C367.895 206.193 368.77 201.511 368.77 195.989C368.77 190.511 367.895 185.864 366.145 182.045C364.418 178.227 361.838 175.33 358.406 173.352C354.974 171.375 350.713 170.386 345.622 170.386H333.486V221.795ZM394.662 231H383.48L408.605 161.182H420.776L445.901 231H434.719L414.98 173.864H414.435L394.662 231ZM396.537 203.659H432.81V212.523H396.537V203.659ZM444.29 170.25V161.182H498.324V170.25H476.54V231H466.04V170.25H444.29ZM507.912 231H496.73L521.855 161.182H534.026L559.151 231H547.969L528.23 173.864H527.685L507.912 231ZM509.787 203.659H546.06V212.523H509.787V203.659Z" fill="#FAEEE7"/>
        <path d="M756.523 709.591H749.432C749.159 708.076 748.652 706.742 747.909 705.591C747.167 704.439 746.258 703.462 745.182 702.659C744.106 701.856 742.902 701.25 741.568 700.841C740.25 700.432 738.848 700.227 737.364 700.227C734.682 700.227 732.28 700.902 730.159 702.25C728.053 703.598 726.386 705.576 725.159 708.182C723.947 710.788 723.341 713.97 723.341 717.727C723.341 721.515 723.947 724.712 725.159 727.318C726.386 729.924 728.061 731.894 730.182 733.227C732.303 734.561 734.689 735.227 737.341 735.227C738.811 735.227 740.205 735.03 741.523 734.636C742.856 734.227 744.061 733.629 745.136 732.841C746.212 732.053 747.121 731.091 747.864 729.955C748.621 728.803 749.144 727.485 749.432 726L756.523 726.023C756.144 728.311 755.409 730.417 754.318 732.341C753.242 734.25 751.856 735.902 750.159 737.295C748.477 738.674 746.553 739.742 744.386 740.5C742.22 741.258 739.856 741.636 737.295 741.636C733.265 741.636 729.674 740.682 726.523 738.773C723.371 736.848 720.886 734.098 719.068 730.523C717.265 726.947 716.364 722.682 716.364 717.727C716.364 712.758 717.273 708.492 719.091 704.932C720.909 701.356 723.394 698.614 726.545 696.705C729.697 694.78 733.28 693.818 737.295 693.818C739.765 693.818 742.068 694.174 744.205 694.886C746.356 695.583 748.288 696.614 750 697.977C751.712 699.326 753.129 700.977 754.25 702.932C755.371 704.871 756.129 707.091 756.523 709.591ZM764.926 741V694.455H781.517C785.123 694.455 788.116 695.076 790.494 696.318C792.888 697.561 794.676 699.28 795.858 701.477C797.04 703.659 797.631 706.182 797.631 709.045C797.631 711.894 797.032 714.402 795.835 716.568C794.653 718.72 792.866 720.394 790.472 721.591C788.093 722.788 785.1 723.386 781.494 723.386H768.926V717.341H780.858C783.131 717.341 784.979 717.015 786.403 716.364C787.843 715.712 788.896 714.765 789.562 713.523C790.229 712.28 790.562 710.788 790.562 709.045C790.562 707.288 790.222 705.765 789.54 704.477C788.873 703.189 787.82 702.205 786.381 701.523C784.956 700.826 783.085 700.477 780.767 700.477H771.949V741H764.926ZM787.903 720L799.403 741H791.403L780.131 720H787.903ZM806.176 741V694.455H835.358V700.5H813.199V714.682H833.835V720.705H813.199V734.955H835.631V741H806.176ZM859.807 741H844.739V694.455H860.284C864.845 694.455 868.761 695.386 872.034 697.25C875.307 699.098 877.814 701.758 879.557 705.227C881.314 708.682 882.193 712.826 882.193 717.659C882.193 722.508 881.307 726.674 879.534 730.159C877.777 733.644 875.231 736.326 871.898 738.205C868.564 740.068 864.534 741 859.807 741ZM851.761 734.864H859.42C862.966 734.864 865.913 734.197 868.261 732.864C870.61 731.515 872.367 729.568 873.534 727.023C874.701 724.462 875.284 721.341 875.284 717.659C875.284 714.008 874.701 710.909 873.534 708.364C872.383 705.818 870.663 703.886 868.375 702.568C866.087 701.25 863.246 700.591 859.852 700.591H851.761V734.864ZM890.926 741V694.455H920.108V700.5H897.949V714.682H918.585V720.705H897.949V734.955H920.381V741H890.926ZM967.057 694.455V741H960.602L936.943 706.864H936.511V741H929.489V694.455H935.989L959.67 728.636H960.102V694.455H967.057ZM975.006 700.5V694.455H1011.03V700.5H996.506V741H989.506V700.5H975.006ZM1026.01 694.455V741H1018.99V694.455H1026.01ZM1040.17 741H1032.72L1049.47 694.455H1057.58L1074.33 741H1066.88L1053.72 702.909H1053.35L1040.17 741ZM1041.42 722.773H1065.6V728.682H1041.42V722.773ZM1081.05 741V694.455H1088.07V734.955H1109.16V741H1081.05ZM1142.56 706.682C1142.32 704.53 1141.32 702.864 1139.56 701.682C1137.8 700.485 1135.59 699.886 1132.93 699.886C1131.02 699.886 1129.37 700.189 1127.97 700.795C1126.58 701.386 1125.49 702.205 1124.72 703.25C1123.96 704.28 1123.59 705.455 1123.59 706.773C1123.59 707.879 1123.84 708.833 1124.36 709.636C1124.89 710.439 1125.58 711.114 1126.43 711.659C1127.29 712.189 1128.21 712.636 1129.2 713C1130.18 713.348 1131.13 713.636 1132.04 713.864L1136.59 715.045C1138.07 715.409 1139.59 715.902 1141.15 716.523C1142.71 717.144 1144.16 717.962 1145.49 718.977C1146.83 719.992 1147.9 721.25 1148.72 722.75C1149.55 724.25 1149.97 726.045 1149.97 728.136C1149.97 730.773 1149.29 733.114 1147.93 735.159C1146.58 737.205 1144.62 738.818 1142.04 740C1139.48 741.182 1136.38 741.773 1132.74 741.773C1129.26 741.773 1126.24 741.22 1123.7 740.114C1121.15 739.008 1119.16 737.439 1117.72 735.409C1116.28 733.364 1115.49 730.939 1115.34 728.136H1122.38C1122.52 729.818 1123.06 731.22 1124.02 732.341C1124.99 733.447 1126.22 734.273 1127.72 734.818C1129.24 735.348 1130.9 735.614 1132.7 735.614C1134.68 735.614 1136.45 735.303 1137.99 734.682C1139.55 734.045 1140.78 733.167 1141.68 732.045C1142.57 730.909 1143.02 729.583 1143.02 728.068C1143.02 726.689 1142.62 725.561 1141.84 724.682C1141.06 723.803 1140.01 723.076 1138.68 722.5C1137.36 721.924 1135.87 721.417 1134.2 720.977L1128.7 719.477C1124.97 718.462 1122.02 716.97 1119.84 715C1117.67 713.03 1116.59 710.424 1116.59 707.182C1116.59 704.5 1117.31 702.159 1118.77 700.159C1120.22 698.159 1122.19 696.606 1124.68 695.5C1127.16 694.379 1129.96 693.818 1133.09 693.818C1136.24 693.818 1139.02 694.371 1141.43 695.477C1143.85 696.583 1145.76 698.106 1147.15 700.045C1148.55 701.97 1149.27 704.182 1149.34 706.682H1142.56Z" fill="#FAEEE7"/>
        <text x="925" y="563" fill="#FAEEE7" font-size="256" font-weight="bold" text-anchor="middle">${numVCs}</text>
        <defs>
        <filter id="filter0_d_0_1" x="0" y="0" width="1874" height="953" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
        <feOffset dx="4" dy="4"/>
        <feGaussianBlur stdDeviation="10"/>
        <feComposite in2="hardAlpha" operator="out"/>
        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_0_1"/>
        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_0_1" result="shape"/>
        </filter>
        <linearGradient id="paint0_linear_0_1" x1="897" y1="982" x2="889.5" y2="-31.5" gradientUnits="userSpaceOnUse">
        <stop offset="0.0001" stop-color="#FF4064"/>
        <stop offset="1" stop-color="#FF6F34"/>
        </linearGradient>
        </defs>
        </svg>`
      ),
      divider(),
      text('View and manage my credentials in [Masca dApp](https://masca.io).'),
    ]);
    return { content: component };
  }

  static async install() {
    const component = panel([
      image(
        '<svg width="1874" height="953" viewBox="0 0 1874 953" fill="none" xmlns="http://www.w3.org/2000/svg"> <g filter="url(#filter0_d_0_1)"> <rect x="16" y="16" width="1834" height="913" rx="175" fill="url(#paint0_linear_0_1)"/> </g> <g filter="url(#filter1_d_0_1)"> <path d="M337.397 145.053C338.757 147.548 340.306 150.648 342.044 154.352C343.858 157.981 345.71 161.95 347.599 166.259C349.564 170.493 351.491 174.84 353.38 179.3C355.27 183.76 357.045 187.956 358.708 191.887C360.371 187.956 362.147 183.76 364.036 179.3C365.925 174.84 367.815 170.493 369.704 166.259C371.669 161.95 373.52 157.981 375.258 154.352C377.072 150.648 378.659 147.548 380.019 145.053H396.116C396.872 150.27 397.552 156.129 398.157 162.63C398.837 169.056 399.404 175.785 399.857 182.815C400.386 189.77 400.84 196.763 401.217 203.794C401.671 210.825 402.049 217.44 402.351 223.639H385.121C384.894 216.003 384.592 207.687 384.214 198.691C383.836 189.695 383.269 180.623 382.513 171.475C381.153 174.651 379.642 178.166 377.979 182.021C376.316 185.877 374.654 189.733 372.991 193.588C371.404 197.444 369.855 201.148 368.344 204.701C366.832 208.179 365.547 211.165 364.489 213.66H352.133C351.075 211.165 349.791 208.179 348.279 204.701C346.768 201.148 345.181 197.444 343.518 193.588C341.931 189.733 340.306 185.877 338.644 182.021C336.981 178.166 335.47 174.651 334.109 171.475C333.354 180.623 332.787 189.695 332.409 198.691C332.031 207.687 331.729 216.003 331.502 223.639H314.272C314.574 217.44 314.914 210.825 315.292 203.794C315.745 196.763 316.199 189.77 316.652 182.815C317.181 175.785 317.748 169.056 318.353 162.63C319.033 156.129 319.751 150.27 320.506 145.053H337.397Z" fill="black"/> <path d="M439.925 211.845C441.587 211.845 443.174 211.808 444.686 211.732C446.197 211.656 447.406 211.543 448.313 211.392V198.578C447.633 198.427 446.613 198.275 445.253 198.124C443.892 197.973 442.645 197.897 441.512 197.897C439.925 197.897 438.413 198.011 436.977 198.238C435.617 198.389 434.408 198.729 433.35 199.258C432.292 199.787 431.461 200.506 430.856 201.413C430.252 202.32 429.949 203.454 429.949 204.815C429.949 207.461 430.818 209.313 432.556 210.371C434.37 211.354 436.826 211.845 439.925 211.845ZM438.564 162.403C443.552 162.403 447.709 162.97 451.034 164.104C454.359 165.238 457.004 166.864 458.969 168.981C461.009 171.097 462.445 173.668 463.277 176.692C464.108 179.716 464.524 183.08 464.524 186.784V221.938C462.105 222.467 458.742 223.072 454.435 223.752C450.127 224.508 444.913 224.886 438.791 224.886C434.937 224.886 431.423 224.546 428.249 223.866C425.15 223.185 422.468 222.089 420.2 220.577C417.933 218.99 416.195 216.948 414.986 214.454C413.777 211.959 413.172 208.897 413.172 205.268C413.172 201.791 413.852 198.842 415.213 196.423C416.649 194.004 418.538 192.076 420.881 190.64C423.223 189.203 425.906 188.183 428.929 187.578C431.952 186.898 435.088 186.557 438.338 186.557C440.529 186.557 442.456 186.671 444.119 186.898C445.857 187.049 447.255 187.276 448.313 187.578V185.99C448.313 183.118 447.444 180.812 445.706 179.073C443.968 177.334 440.945 176.465 436.637 176.465C433.766 176.465 430.932 176.692 428.136 177.145C425.339 177.523 422.921 178.09 420.881 178.846L418.727 165.238C419.709 164.936 420.918 164.634 422.354 164.331C423.866 163.953 425.491 163.651 427.229 163.424C428.967 163.122 430.781 162.895 432.67 162.744C434.635 162.517 436.6 162.403 438.564 162.403Z" fill="black"/> <path d="M496.914 211.505C500.012 211.505 502.204 211.203 503.489 210.598C504.773 209.993 505.416 208.821 505.416 207.083C505.416 205.722 504.584 204.55 502.922 203.567C501.259 202.509 498.728 201.337 495.327 200.052C492.682 199.069 490.264 198.049 488.072 196.99C485.956 195.932 484.142 194.684 482.631 193.248C481.119 191.736 479.948 189.959 479.117 187.918C478.285 185.877 477.87 183.42 477.87 180.547C477.87 174.953 479.948 170.53 484.104 167.28C488.261 164.029 493.967 162.403 501.221 162.403C504.849 162.403 508.325 162.744 511.65 163.424C514.976 164.029 517.621 164.709 519.586 165.465L516.638 178.62C514.673 177.939 512.52 177.334 510.177 176.805C507.91 176.276 505.34 176.011 502.468 176.011C497.178 176.011 494.533 177.486 494.533 180.434C494.533 181.114 494.647 181.719 494.873 182.248C495.1 182.777 495.554 183.307 496.234 183.836C496.914 184.289 497.821 184.819 498.954 185.423C500.163 185.953 501.675 186.557 503.489 187.238C507.192 188.599 510.252 189.959 512.671 191.32C515.089 192.605 516.978 194.042 518.339 195.629C519.774 197.141 520.757 198.842 521.286 200.732C521.89 202.622 522.193 204.815 522.193 207.309C522.193 213.206 519.963 217.667 515.505 220.691C511.121 223.714 504.887 225.226 496.8 225.226C491.51 225.226 487.09 224.773 483.538 223.866C480.061 222.958 477.643 222.203 476.283 221.598L479.117 207.876C481.988 209.01 484.936 209.918 487.959 210.598C490.981 211.203 493.967 211.505 496.914 211.505Z" fill="black"/> <path d="M531.981 193.815C531.981 189.506 532.662 185.461 534.022 181.681C535.458 177.826 537.498 174.499 540.143 171.702C542.788 168.829 546 166.561 549.779 164.898C553.557 163.235 557.865 162.403 562.701 162.403C565.876 162.403 568.785 162.706 571.43 163.311C574.075 163.84 576.645 164.634 579.138 165.692L575.624 179.187C574.037 178.582 572.299 178.053 570.41 177.599C568.521 177.145 566.404 176.919 564.062 176.919C559.074 176.919 555.333 178.468 552.839 181.568C550.421 184.667 549.212 188.75 549.212 193.815C549.212 199.183 550.345 203.34 552.613 206.289C554.955 209.237 558.998 210.711 564.742 210.711C566.782 210.711 568.974 210.522 571.317 210.144C573.659 209.766 575.813 209.162 577.778 208.33L580.159 222.165C578.194 222.996 575.738 223.714 572.79 224.319C569.843 224.924 566.593 225.226 563.042 225.226C557.6 225.226 552.915 224.433 548.985 222.845C545.055 221.182 541.806 218.952 539.236 216.155C536.742 213.357 534.891 210.069 533.682 206.289C532.548 202.433 531.981 198.275 531.981 193.815Z" fill="black"/> <path d="M611.401 211.845C613.064 211.845 614.651 211.808 616.162 211.732C617.674 211.656 618.883 211.543 619.79 211.392V198.578C619.11 198.427 618.089 198.275 616.729 198.124C615.369 197.973 614.122 197.897 612.988 197.897C611.401 197.897 609.89 198.011 608.454 198.238C607.094 198.389 605.884 198.729 604.826 199.258C603.768 199.787 602.937 200.506 602.333 201.413C601.728 202.32 601.426 203.454 601.426 204.815C601.426 207.461 602.295 209.313 604.033 210.371C605.847 211.354 608.303 211.845 611.401 211.845ZM610.041 162.403C615.029 162.403 619.185 162.97 622.51 164.104C625.836 165.238 628.481 166.864 630.445 168.981C632.486 171.097 633.922 173.668 634.753 176.692C635.584 179.716 636 183.08 636 186.784V221.938C633.582 222.467 630.219 223.072 625.911 223.752C621.603 224.508 616.389 224.886 610.268 224.886C606.413 224.886 602.899 224.546 599.725 223.866C596.627 223.185 593.944 222.089 591.677 220.577C589.41 218.99 587.672 216.948 586.462 214.454C585.253 211.959 584.649 208.897 584.649 205.268C584.649 201.791 585.329 198.842 586.689 196.423C588.125 194.004 590.014 192.076 592.357 190.64C594.7 189.203 597.383 188.183 600.405 187.578C603.428 186.898 606.565 186.557 609.814 186.557C612.006 186.557 613.933 186.671 615.595 186.898C617.334 187.049 618.732 187.276 619.79 187.578V185.99C619.79 183.118 618.921 180.812 617.183 179.073C615.444 177.334 612.421 176.465 608.114 176.465C605.242 176.465 602.408 176.692 599.612 177.145C596.816 177.523 594.397 178.09 592.357 178.846L590.203 165.238C591.186 164.936 592.395 164.634 593.831 164.331C595.342 163.953 596.967 163.651 598.705 163.424C600.443 163.122 602.257 162.895 604.146 162.744C606.111 162.517 608.076 162.403 610.041 162.403Z" fill="black"/> <path d="M266.985 181.519C266.985 222.675 233.634 256.039 192.493 256.039C151.351 256.039 118 222.675 118 181.519C118 140.363 151.351 107 192.493 107C233.634 107 266.985 140.363 266.985 181.519Z" fill="url(#paint1_linear_0_1)"/> <path d="M177.918 166.939C177.918 162.466 181.543 158.84 186.015 158.84H279.94C284.412 158.84 288.037 162.466 288.037 166.939V210.679C288.037 215.152 284.412 218.779 279.94 218.779H186.015C181.543 218.779 177.918 215.152 177.918 210.679V166.939Z" fill="black"/> </g> <path d="M509.064 506L522.706 404.417H534.46L561.162 454.773L587.574 404.417H599.473L612.969 506H598.457L588.154 423.137L591.782 423.718L561.307 481.91L530.252 423.718L533.88 423.137L523.576 506H509.064ZM640.058 507.451C635.656 507.451 631.81 506.556 628.521 504.766C625.231 502.977 622.668 500.534 620.829 497.438C619.04 494.342 618.145 490.811 618.145 486.844C618.145 482.829 619.015 479.395 620.757 476.541C622.547 473.639 624.917 471.244 627.868 469.358C630.867 467.423 634.205 465.899 637.881 464.786C641.557 463.625 645.354 462.803 649.273 462.319C653.239 461.787 657.036 461.497 660.664 461.449C660.664 454.676 659.334 450.25 656.674 448.17C654.013 446.09 650.168 445.05 645.137 445.05C642.476 445.05 639.622 445.461 636.575 446.284C633.576 447.106 630.19 448.823 626.417 451.435L624.53 440.842C627.384 438.665 630.939 436.899 635.196 435.545C639.453 434.142 643.927 433.441 648.62 433.441C654.618 433.441 659.455 434.505 663.131 436.633C666.808 438.713 669.492 442.245 671.186 447.227C672.879 452.209 673.725 458.982 673.725 467.544V482.055C673.725 485.442 673.87 488.247 674.16 490.472C674.499 492.649 675.225 494.294 676.337 495.406C677.498 496.471 679.336 497.003 681.852 497.003H683.158L681.126 507.451H680.11C675.902 507.451 672.637 507.04 670.315 506.218C668.041 505.395 666.3 504.21 665.091 502.662C663.881 501.114 662.793 499.228 661.825 497.003C659.165 500.099 656.021 502.614 652.393 504.549C648.765 506.484 644.653 507.451 640.058 507.451ZM642.525 497.003C646.007 497.003 649.369 496.132 652.61 494.391C655.9 492.649 658.584 490.327 660.664 487.425V470.446C653.747 470.688 648.136 471.365 643.831 472.478C639.574 473.59 636.454 475.259 634.471 477.484C632.487 479.709 631.496 482.588 631.496 486.119C631.496 489.94 632.511 492.722 634.543 494.463C636.623 496.156 639.284 497.003 642.525 497.003ZM709.057 507.451C702.768 507.451 697.544 506.701 693.384 505.202C689.272 503.702 686.37 502.372 684.677 501.211L686.273 488.586C687.821 489.94 690.554 491.488 694.472 493.23C698.391 494.971 703.059 495.842 708.476 495.842C713.072 495.842 716.579 495.068 718.997 493.52C721.464 491.972 722.698 489.795 722.698 486.989C722.698 484.522 721.9 482.539 720.304 481.04C718.756 479.492 716.869 478.282 714.644 477.412C712.467 476.493 710.411 475.767 708.476 475.235C705.235 474.364 701.874 473.276 698.391 471.97C694.956 470.615 692.054 468.608 689.684 465.947C687.313 463.287 686.128 459.562 686.128 454.773C686.128 451.145 686.999 447.711 688.74 444.47C690.482 441.18 693.312 438.52 697.23 436.488C701.148 434.457 706.348 433.441 712.83 433.441C717.57 433.441 721.416 433.949 724.367 434.965C727.366 435.932 729.954 436.972 732.131 438.085L730.534 449.984C728.454 448.243 726.036 446.768 723.278 445.558C720.521 444.349 717.135 443.744 713.12 443.744C709.057 443.744 705.743 444.518 703.18 446.066C700.616 447.566 699.334 449.984 699.334 453.322C699.334 456.66 700.688 459.03 703.397 460.433C706.155 461.836 710.315 463.384 715.877 465.077C717.619 465.56 719.626 466.262 721.9 467.181C724.222 468.1 726.471 469.333 728.648 470.881C730.825 472.429 732.614 474.461 734.017 476.976C735.468 479.443 736.194 482.539 736.194 486.264C736.194 489.408 735.444 492.625 733.945 495.914C732.445 499.155 729.736 501.888 725.818 504.113C721.9 506.339 716.313 507.451 709.057 507.451ZM777.272 507.451C769.242 507.451 762.494 505.831 757.028 502.59C751.61 499.3 747.498 494.898 744.693 489.384C741.935 483.821 740.557 477.654 740.557 470.881C740.557 463.819 741.887 457.458 744.547 451.798C747.256 446.139 751.392 441.664 756.955 438.375C762.518 435.085 769.629 433.441 778.287 433.441C782.012 433.441 785.519 433.828 788.808 434.602C792.146 435.327 795.121 436.343 797.733 437.649L795.702 449.114C793.041 447.856 790.211 446.864 787.212 446.139C784.261 445.413 781.19 445.05 777.997 445.05C770.161 445.05 764.187 447.275 760.075 451.726C755.963 456.176 753.908 462.368 753.908 470.301C753.908 478.041 755.867 484.256 759.785 488.949C763.703 493.641 769.677 495.987 777.707 495.987C780.996 495.987 784.141 495.6 787.14 494.826C790.187 494.052 793.089 492.988 795.847 491.633L797.588 502.082C795.653 503.436 792.823 504.67 789.099 505.782C785.374 506.895 781.432 507.451 777.272 507.451ZM822.708 507.451C818.306 507.451 814.461 506.556 811.171 504.766C807.882 502.977 805.318 500.534 803.48 497.438C801.69 494.342 800.795 490.811 800.795 486.844C800.795 482.829 801.666 479.395 803.408 476.541C805.197 473.639 807.568 471.244 810.518 469.358C813.518 467.423 816.855 465.899 820.532 464.786C824.208 463.625 828.005 462.803 831.923 462.319C835.89 461.787 839.687 461.497 843.315 461.449C843.315 454.676 841.985 450.25 839.324 448.17C836.664 446.09 832.818 445.05 827.788 445.05C825.127 445.05 822.273 445.461 819.226 446.284C816.226 447.106 812.84 448.823 809.067 451.435L807.181 440.842C810.035 438.665 813.59 436.899 817.847 435.545C822.104 434.142 826.578 433.441 831.27 433.441C837.269 433.441 842.106 434.505 845.782 436.633C849.459 438.713 852.143 442.245 853.836 447.227C855.529 452.209 856.376 458.982 856.376 467.544V482.055C856.376 485.442 856.521 488.247 856.811 490.472C857.15 492.649 857.875 494.294 858.988 495.406C860.149 496.471 861.987 497.003 864.502 497.003H865.809L863.777 507.451H862.761C858.553 507.451 855.287 507.04 852.966 506.218C850.692 505.395 848.951 504.21 847.741 502.662C846.532 501.114 845.444 499.228 844.476 497.003C841.816 500.099 838.671 502.614 835.043 504.549C831.415 506.484 827.304 507.451 822.708 507.451ZM825.175 497.003C828.658 497.003 832.02 496.132 835.261 494.391C838.55 492.649 841.235 490.327 843.315 487.425V470.446C836.398 470.688 830.787 471.365 826.481 472.478C822.225 473.59 819.105 475.259 817.121 477.484C815.138 479.709 814.146 482.588 814.146 486.119C814.146 489.94 815.162 492.722 817.194 494.463C819.274 496.156 821.934 497.003 825.175 497.003ZM899.778 506V434.892H912.838V506H899.778ZM899.778 418.929V404.417H912.838V418.929H899.778ZM926.177 506V434.892H936.335L938.947 448.533L933.868 446.356C938.657 441.035 943.325 437.553 947.872 435.908C952.467 434.263 956.942 433.441 961.295 433.441C971.695 433.441 979.121 436.44 983.571 442.438C988.07 448.436 990.319 456.563 990.319 466.818V506H977.258V466.818C977.258 459.272 975.855 453.757 973.05 450.275C970.244 446.792 965.455 445.05 958.683 445.05C953.894 445.05 949.492 446.114 945.477 448.243C941.511 450.323 938.899 453.661 937.641 458.256L939.237 450.275V506H926.177ZM1023.06 507.451C1016.77 507.451 1011.54 506.701 1007.38 505.202C1003.27 503.702 1000.37 502.372 998.677 501.211L1000.27 488.586C1001.82 489.94 1004.55 491.488 1008.47 493.23C1012.39 494.971 1017.06 495.842 1022.48 495.842C1027.07 495.842 1030.58 495.068 1033 493.52C1035.46 491.972 1036.7 489.795 1036.7 486.989C1036.7 484.522 1035.9 482.539 1034.3 481.04C1032.76 479.492 1030.87 478.282 1028.64 477.412C1026.47 476.493 1024.41 475.767 1022.48 475.235C1019.24 474.364 1015.87 473.276 1012.39 471.97C1008.96 470.615 1006.05 468.608 1003.68 465.947C1001.31 463.287 1000.13 459.562 1000.13 454.773C1000.13 451.145 1001 447.711 1002.74 444.47C1004.48 441.18 1007.31 438.52 1011.23 436.488C1015.15 434.457 1020.35 433.441 1026.83 433.441C1031.57 433.441 1035.42 433.949 1038.37 434.965C1041.37 435.932 1043.95 436.972 1046.13 438.085L1044.53 449.984C1042.45 448.243 1040.04 446.768 1037.28 445.558C1034.52 444.349 1031.14 443.744 1027.12 443.744C1023.06 443.744 1019.74 444.518 1017.18 446.066C1014.62 447.566 1013.33 449.984 1013.33 453.322C1013.33 456.66 1014.69 459.03 1017.4 460.433C1020.15 461.836 1024.31 463.384 1029.88 465.077C1031.62 465.56 1033.63 466.262 1035.9 467.181C1038.22 468.1 1040.47 469.333 1042.65 470.881C1044.82 472.429 1046.61 474.461 1048.02 476.976C1049.47 479.443 1050.19 482.539 1050.19 486.264C1050.19 489.408 1049.44 492.625 1047.94 495.914C1046.44 499.155 1043.74 501.888 1039.82 504.113C1035.9 506.339 1030.31 507.451 1023.06 507.451ZM1083.14 507.451C1078.65 507.451 1075.04 506.629 1072.33 504.984C1069.62 503.339 1067.64 501.235 1066.38 498.672C1065.17 496.059 1064.57 493.326 1064.57 490.472V445.05H1052.38L1053.54 434.892H1064.57V417.333L1077.63 416.027V434.892H1096.35V445.05H1077.63V482.491C1077.63 487.038 1077.9 490.327 1078.43 492.359C1078.96 494.391 1080.27 495.672 1082.35 496.205C1084.48 496.737 1087.89 497.003 1092.58 497.003H1095.92L1094.9 507.451H1083.14ZM1119.7 507.451C1115.3 507.451 1111.45 506.556 1108.17 504.766C1104.88 502.977 1102.31 500.534 1100.47 497.438C1098.68 494.342 1097.79 490.811 1097.79 486.844C1097.79 482.829 1098.66 479.395 1100.4 476.541C1102.19 473.639 1104.56 471.244 1107.51 469.358C1110.51 467.423 1113.85 465.899 1117.53 464.786C1121.2 463.625 1125 462.803 1128.92 462.319C1132.88 461.787 1136.68 461.497 1140.31 461.449C1140.31 454.676 1138.98 450.25 1136.32 448.17C1133.66 446.09 1129.81 445.05 1124.78 445.05C1122.12 445.05 1119.27 445.461 1116.22 446.284C1113.22 447.106 1109.83 448.823 1106.06 451.435L1104.17 440.842C1107.03 438.665 1110.58 436.899 1114.84 435.545C1119.1 434.142 1123.57 433.441 1128.26 433.441C1134.26 433.441 1139.1 434.505 1142.78 436.633C1146.45 438.713 1149.14 442.245 1150.83 447.227C1152.52 452.209 1153.37 458.982 1153.37 467.544V482.055C1153.37 485.442 1153.51 488.247 1153.8 490.472C1154.14 492.649 1154.87 494.294 1155.98 495.406C1157.14 496.471 1158.98 497.003 1161.5 497.003H1162.8L1160.77 507.451H1159.75C1155.55 507.451 1152.28 507.04 1149.96 506.218C1147.69 505.395 1145.94 504.21 1144.74 502.662C1143.53 501.114 1142.44 499.228 1141.47 497.003C1138.81 500.099 1135.67 502.614 1132.04 504.549C1128.41 506.484 1124.3 507.451 1119.7 507.451ZM1122.17 497.003C1125.65 497.003 1129.01 496.132 1132.25 494.391C1135.54 492.649 1138.23 490.327 1140.31 487.425V470.446C1133.39 470.688 1127.78 471.365 1123.48 472.478C1119.22 473.59 1116.1 475.259 1114.12 477.484C1112.13 479.709 1111.14 482.588 1111.14 486.119C1111.14 489.94 1112.16 492.722 1114.19 494.463C1116.27 496.156 1118.93 497.003 1122.17 497.003ZM1186.81 507.451C1182.22 507.451 1178.57 506.629 1175.86 504.984C1173.2 503.291 1171.29 501.139 1170.13 498.526C1168.97 495.914 1168.38 493.181 1168.38 490.327V397.161H1181.45V482.781C1181.45 486.844 1181.71 489.892 1182.24 491.924C1182.78 493.955 1183.84 495.31 1185.44 495.987C1187.08 496.664 1189.57 497.003 1192.91 497.003L1191.02 507.451H1186.81ZM1216.76 507.451C1212.16 507.451 1208.51 506.629 1205.8 504.984C1203.14 503.291 1201.23 501.139 1200.07 498.526C1198.91 495.914 1198.33 493.181 1198.33 490.327V397.161H1211.39V482.781C1211.39 486.844 1211.65 489.892 1212.19 491.924C1212.72 493.955 1213.78 495.31 1215.38 495.987C1217.02 496.664 1219.51 497.003 1222.85 497.003L1220.97 507.451H1216.76ZM1261.81 507.451C1253.44 507.451 1246.4 505.734 1240.69 502.299C1234.99 498.865 1230.66 494.318 1227.71 488.658C1224.8 482.95 1223.35 476.686 1223.35 469.866C1223.35 463.238 1224.71 457.168 1227.42 451.653C1230.17 446.139 1234.14 441.737 1239.31 438.447C1244.54 435.11 1250.83 433.441 1258.18 433.441C1264.08 433.441 1269.33 434.626 1273.93 436.996C1278.57 439.318 1282.2 442.728 1284.81 447.227C1287.47 451.677 1288.8 457.095 1288.8 463.48C1288.8 464.496 1288.75 465.609 1288.66 466.818C1288.61 467.979 1288.46 469.188 1288.22 470.446H1236.7C1237.33 477.025 1238.9 482.152 1241.42 485.829C1243.93 489.505 1247.1 492.093 1250.92 493.592C1254.75 495.092 1258.91 495.842 1263.4 495.842C1266.69 495.842 1270.13 495.503 1273.71 494.826C1277.29 494.149 1280.67 493.084 1283.87 491.633L1285.61 501.937C1282.85 503.146 1279.49 504.38 1275.52 505.637C1271.56 506.847 1266.98 507.451 1261.81 507.451ZM1237.86 461.449H1275.3C1275.3 458.111 1274.68 455.209 1273.42 452.742C1272.16 450.275 1270.25 448.388 1267.69 447.082C1265.12 445.728 1261.86 445.05 1257.89 445.05C1252.09 445.05 1247.61 446.501 1244.47 449.404C1241.37 452.258 1239.17 456.273 1237.86 461.449ZM1325.76 507.451C1319.72 507.451 1314.25 505.807 1309.37 502.517C1304.48 499.228 1300.59 494.802 1297.68 489.239C1294.83 483.676 1293.4 477.46 1293.4 470.591C1293.4 464.061 1294.71 457.966 1297.32 452.306C1299.98 446.647 1303.73 442.1 1308.57 438.665C1313.41 435.182 1319.14 433.441 1325.76 433.441C1330.51 433.441 1335.08 434.481 1339.48 436.561C1343.93 438.593 1347.53 442.003 1350.29 446.792L1347.53 448.678V397.161H1360.59V506H1348.98L1346.52 490.908L1349.85 493.23C1347.77 497.922 1344.51 501.477 1340.06 503.896C1335.61 506.266 1330.84 507.451 1325.76 507.451ZM1328.09 495.842C1331.38 495.842 1334.62 494.995 1337.81 493.302C1341.05 491.609 1343.71 488.924 1345.79 485.248C1347.92 481.523 1348.98 476.638 1348.98 470.591C1348.98 464.98 1347.92 460.288 1345.79 456.515C1343.71 452.693 1341.05 449.839 1337.81 447.953C1334.62 446.018 1331.38 445.05 1328.09 445.05C1323.64 445.05 1319.81 446.163 1316.62 448.388C1313.43 450.613 1310.99 453.661 1309.29 457.53C1307.6 461.352 1306.75 465.705 1306.75 470.591C1306.75 475.187 1307.6 479.395 1309.29 483.216C1310.99 487.038 1313.43 490.11 1316.62 492.431C1319.81 494.705 1323.64 495.842 1328.09 495.842ZM608.347 659.451C602.059 659.451 596.834 658.701 592.674 657.202C588.563 655.702 585.66 654.372 583.967 653.211L585.563 640.586C587.111 641.94 589.844 643.488 593.763 645.23C597.681 646.971 602.349 647.842 607.767 647.842C612.362 647.842 615.869 647.068 618.288 645.52C620.755 643.972 621.988 641.795 621.988 638.989C621.988 636.522 621.19 634.539 619.594 633.04C618.046 631.492 616.159 630.282 613.934 629.412C611.757 628.493 609.701 627.767 607.767 627.235C604.526 626.364 601.164 625.276 597.681 623.97C594.246 622.615 591.344 620.608 588.974 617.947C586.603 615.287 585.418 611.562 585.418 606.773C585.418 603.145 586.289 599.711 588.03 596.47C589.772 593.18 592.602 590.52 596.52 588.488C600.438 586.457 605.638 585.441 612.12 585.441C616.861 585.441 620.706 585.949 623.657 586.965C626.656 587.932 629.244 588.972 631.421 590.085L629.825 601.984C627.744 600.243 625.326 598.768 622.569 597.558C619.811 596.349 616.425 595.744 612.41 595.744C608.347 595.744 605.033 596.518 602.47 598.066C599.906 599.566 598.624 601.984 598.624 605.322C598.624 608.66 599.979 611.03 602.687 612.433C605.445 613.836 609.605 615.384 615.168 617.077C616.909 617.56 618.916 618.262 621.19 619.181C623.512 620.1 625.761 621.333 627.938 622.881C630.115 624.429 631.905 626.461 633.307 628.976C634.759 631.443 635.484 634.539 635.484 638.264C635.484 641.408 634.734 644.625 633.235 647.914C631.735 651.155 629.026 653.888 625.108 656.113C621.19 658.339 615.603 659.451 608.347 659.451ZM669.451 659.451C663.888 659.451 659.148 658.339 655.229 656.113C651.311 653.84 648.312 650.405 646.232 645.81C644.2 641.215 643.184 635.362 643.184 628.251V586.892H656.245V624.623C656.245 632.169 657.527 637.925 660.091 641.892C662.703 645.858 666.936 647.842 672.789 647.842C676.804 647.842 680.528 646.874 683.963 644.939C687.397 643.004 689.767 639.909 691.074 635.652L689.187 642.763V586.892H702.248V658H690.638L688.026 644.069L691.509 646.391C689.139 650.792 686.236 654.082 682.802 656.259C679.416 658.387 674.965 659.451 669.451 659.451ZM748.31 659.451C740.28 659.451 733.532 657.831 728.066 654.59C722.649 651.3 718.537 646.898 715.731 641.384C712.974 635.821 711.595 629.654 711.595 622.881C711.595 615.819 712.926 609.458 715.586 603.798C718.295 598.139 722.431 593.664 727.994 590.375C733.557 587.085 740.667 585.441 749.326 585.441C753.051 585.441 756.558 585.828 759.847 586.602C763.185 587.327 766.16 588.343 768.772 589.649L766.74 601.114C764.08 599.856 761.25 598.864 758.251 598.139C755.3 597.413 752.228 597.05 749.036 597.05C741.199 597.05 735.225 599.275 731.114 603.726C727.002 608.176 724.946 614.368 724.946 622.301C724.946 630.041 726.905 636.256 730.824 640.949C734.742 645.641 740.716 647.987 748.746 647.987C752.035 647.987 755.179 647.6 758.178 646.826C761.226 646.052 764.128 644.988 766.885 643.633L768.627 654.082C766.692 655.436 763.862 656.67 760.137 657.782C756.413 658.895 752.47 659.451 748.31 659.451ZM808.863 659.451C800.833 659.451 794.085 657.831 788.619 654.59C783.201 651.3 779.09 646.898 776.284 641.384C773.527 635.821 772.148 629.654 772.148 622.881C772.148 615.819 773.478 609.458 776.139 603.798C778.848 598.139 782.984 593.664 788.547 590.375C794.109 587.085 801.22 585.441 809.879 585.441C813.604 585.441 817.111 585.828 820.4 586.602C823.738 587.327 826.713 588.343 829.325 589.649L827.293 601.114C824.633 599.856 821.803 598.864 818.804 598.139C815.853 597.413 812.781 597.05 809.589 597.05C801.752 597.05 795.778 599.275 791.667 603.726C787.555 608.176 785.499 614.368 785.499 622.301C785.499 630.041 787.458 636.256 791.376 640.949C795.295 645.641 801.269 647.987 809.299 647.987C812.588 647.987 815.732 647.6 818.731 646.826C821.779 646.052 824.681 644.988 827.438 643.633L829.18 654.082C827.245 655.436 824.415 656.67 820.69 657.782C816.966 658.895 813.023 659.451 808.863 659.451ZM870.867 659.451C862.499 659.451 855.461 657.734 849.753 654.299C844.045 650.865 839.715 646.318 836.764 640.658C833.862 634.95 832.411 628.686 832.411 621.866C832.411 615.238 833.765 609.168 836.474 603.653C839.231 598.139 843.198 593.737 848.374 590.447C853.598 587.11 859.887 585.441 867.239 585.441C873.141 585.441 878.389 586.626 882.985 588.996C887.628 591.318 891.256 594.728 893.869 599.227C896.529 603.677 897.859 609.095 897.859 615.48C897.859 616.496 897.811 617.609 897.714 618.818C897.666 619.979 897.521 621.188 897.279 622.446H845.762C846.391 629.025 847.963 634.152 850.478 637.829C852.994 641.505 856.162 644.093 859.983 645.592C863.805 647.092 867.965 647.842 872.464 647.842C875.753 647.842 879.187 647.503 882.767 646.826C886.347 646.149 889.733 645.084 892.925 643.633L894.667 653.937C891.909 655.146 888.548 656.38 884.581 657.637C880.614 658.847 876.043 659.451 870.867 659.451ZM846.923 613.449H884.363C884.363 610.111 883.734 607.209 882.477 604.742C881.219 602.275 879.308 600.388 876.745 599.082C874.181 597.728 870.916 597.05 866.949 597.05C861.144 597.05 856.67 598.501 853.526 601.404C850.43 604.258 848.229 608.273 846.923 613.449ZM926.842 659.451C920.554 659.451 915.329 658.701 911.169 657.202C907.058 655.702 904.155 654.372 902.462 653.211L904.059 640.586C905.607 641.94 908.34 643.488 912.258 645.23C916.176 646.971 920.844 647.842 926.262 647.842C930.857 647.842 934.364 647.068 936.783 645.52C939.25 643.972 940.483 641.795 940.483 638.989C940.483 636.522 939.685 634.539 938.089 633.04C936.541 631.492 934.654 630.282 932.429 629.412C930.252 628.493 928.197 627.767 926.262 627.235C923.021 626.364 919.659 625.276 916.176 623.97C912.741 622.615 909.839 620.608 907.469 617.947C905.099 615.287 903.913 611.562 903.913 606.773C903.913 603.145 904.784 599.711 906.526 596.47C908.267 593.18 911.097 590.52 915.015 588.488C918.933 586.457 924.133 585.441 930.615 585.441C935.356 585.441 939.201 585.949 942.152 586.965C945.151 587.932 947.739 588.972 949.916 590.085L948.32 601.984C946.24 600.243 943.821 598.768 941.064 597.558C938.307 596.349 934.92 595.744 930.905 595.744C926.842 595.744 923.529 596.518 920.965 598.066C918.401 599.566 917.119 601.984 917.119 605.322C917.119 608.66 918.474 611.03 921.183 612.433C923.94 613.836 928.1 615.384 933.663 617.077C935.404 617.56 937.412 618.262 939.685 619.181C942.007 620.1 944.256 621.333 946.433 622.881C948.61 624.429 950.4 626.461 951.803 628.976C953.254 631.443 953.979 634.539 953.979 638.264C953.979 641.408 953.23 644.625 951.73 647.914C950.23 651.155 947.522 653.888 943.603 656.113C939.685 658.339 934.098 659.451 926.842 659.451ZM982.577 659.451C976.288 659.451 971.064 658.701 966.904 657.202C962.792 655.702 959.89 654.372 958.197 653.211L959.793 640.586C961.341 641.94 964.074 643.488 967.992 645.23C971.91 646.971 976.578 647.842 981.996 647.842C986.592 647.842 990.099 647.068 992.517 645.52C994.984 643.972 996.218 641.795 996.218 638.989C996.218 636.522 995.42 634.539 993.823 633.04C992.275 631.492 990.389 630.282 988.164 629.412C985.987 628.493 983.931 627.767 981.996 627.235C978.755 626.364 975.393 625.276 971.91 623.97C968.476 622.615 965.574 620.608 963.203 617.947C960.833 615.287 959.648 611.562 959.648 606.773C959.648 603.145 960.519 599.711 962.26 596.47C964.002 593.18 966.831 590.52 970.75 588.488C974.668 586.457 979.868 585.441 986.35 585.441C991.09 585.441 994.936 585.949 997.887 586.965C1000.89 587.932 1003.47 588.972 1005.65 590.085L1004.05 601.984C1001.97 600.243 999.556 598.768 996.798 597.558C994.041 596.349 990.655 595.744 986.64 595.744C982.577 595.744 979.263 596.518 976.699 598.066C974.136 599.566 972.854 601.984 972.854 605.322C972.854 608.66 974.208 611.03 976.917 612.433C979.674 613.836 983.834 615.384 989.397 617.077C991.139 617.56 993.146 618.262 995.42 619.181C997.742 620.1 999.991 621.333 1002.17 622.881C1004.34 624.429 1006.13 626.461 1007.54 628.976C1008.99 631.443 1009.71 634.539 1009.71 638.264C1009.71 641.408 1008.96 644.625 1007.46 647.914C1005.96 651.155 1003.26 653.888 999.338 656.113C995.42 658.339 989.833 659.451 982.577 659.451ZM1023.07 658V597.05H1010.74L1012.48 586.892H1023.07V570.058C1023.07 563.721 1024.77 558.666 1028.15 554.893C1031.54 551.072 1036.52 549.161 1043.1 549.161C1045.52 549.161 1047.62 549.331 1049.41 549.669C1051.25 550.008 1052.92 550.467 1054.42 551.048L1052.39 562.077C1051.23 561.641 1050.09 561.327 1048.98 561.133C1047.86 560.892 1046.58 560.771 1045.13 560.771C1042.33 560.771 1040.13 561.569 1038.53 563.165C1036.93 564.713 1036.13 567.301 1036.13 570.929V586.892H1055.29V597.05H1036.13V658H1023.07ZM1087.37 659.451C1081.81 659.451 1077.07 658.339 1073.15 656.113C1069.23 653.84 1066.23 650.405 1064.15 645.81C1062.12 641.215 1061.1 635.362 1061.1 628.251V586.892H1074.16V624.623C1074.16 632.169 1075.45 637.925 1078.01 641.892C1080.62 645.858 1084.85 647.842 1090.71 647.842C1094.72 647.842 1098.45 646.874 1101.88 644.939C1105.32 643.004 1107.69 639.909 1108.99 635.652L1107.11 642.763V586.892H1120.17V658H1108.56L1105.94 644.069L1109.43 646.391C1107.06 650.792 1104.15 654.082 1100.72 656.259C1097.33 658.387 1092.88 659.451 1087.37 659.451ZM1151.86 659.451C1147.27 659.451 1143.61 658.629 1140.91 656.984C1138.24 655.291 1136.33 653.139 1135.17 650.526C1134.01 647.914 1133.43 645.181 1133.43 642.327V549.161H1146.49V634.781C1146.49 638.844 1146.76 641.892 1147.29 643.924C1147.82 645.955 1148.89 647.31 1150.48 647.987C1152.13 648.664 1154.62 649.003 1157.96 649.003L1156.07 659.451H1151.86ZM1181.8 659.451C1177.21 659.451 1173.56 658.629 1170.85 656.984C1168.19 655.291 1166.28 653.139 1165.12 650.526C1163.95 647.914 1163.37 645.181 1163.37 642.327V549.161H1176.43V634.781C1176.43 638.844 1176.7 641.892 1177.23 643.924C1177.76 645.955 1178.83 647.31 1180.43 647.987C1182.07 648.664 1184.56 649.003 1187.9 649.003L1186.01 659.451H1181.8ZM1197.84 693.119L1214.24 654.807L1184.63 586.892H1199.14L1221.35 639.715L1241.37 586.892H1255.89L1212.35 693.119H1197.84ZM1264 633.04V629.267L1261.09 556.417H1279.09L1276.19 629.267V633.04H1264ZM1262.25 658V642.617H1277.93V658H1262.25Z" fill="#262626"/> <defs> <filter id="filter0_d_0_1" x="0" y="0" width="1874" height="953" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"> <feFlood flood-opacity="0" result="BackgroundImageFix"/> <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/> <feOffset dx="4" dy="4"/> <feGaussianBlur stdDeviation="10"/> <feComposite in2="hardAlpha" operator="out"/> <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/> <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_0_1"/> <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_0_1" result="shape"/> </filter> <filter id="filter1_d_0_1" x="115.577" y="107" width="522.847" height="153.886" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"> <feFlood flood-opacity="0" result="BackgroundImageFix"/> <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/> <feOffset dy="2.42339"/> <feGaussianBlur stdDeviation="1.2117"/> <feComposite in2="hardAlpha" operator="out"/> <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/> <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_0_1"/> <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_0_1" result="shape"/> </filter> <linearGradient id="paint0_linear_0_1" x1="1800.5" y1="923.5" x2="33.9999" y2="18.5002" gradientUnits="userSpaceOnUse"> <stop offset="0.0001" stop-color="#FAC9D6"/> <stop offset="1" stop-color="#FFCFAC"/> </linearGradient> <linearGradient id="paint1_linear_0_1" x1="377" y1="107" x2="377" y2="256.039" gradientUnits="userSpaceOnUse"> <stop stop-color="#FE3D67"/> <stop offset="1" stop-color="#FF7131"/> </linearGradient> </defs> </svg>'
      ),
      divider(),
      text('Start using Masca with [Masca dApp](https://masca.io).'),
      divider(),
      text(
        'To learn more about Masca visit the [documentation](https://docs.masca.io).'
      ),
    ]);
    await snap.request({
      method: 'snap_dialog',
      params: {
        type: 'alert',
        content: component,
      },
    });
  }

  static async update() {
    const component = panel([
      image(
        '<svg width="1874" height="953" viewBox="0 0 1874 953" fill="none" xmlns="http://www.w3.org/2000/svg"> <g filter="url(#filter0_d_0_1)"> <rect x="16" y="16" width="1834" height="913" rx="175" fill="url(#paint0_linear_0_1)"/> </g> <g filter="url(#filter1_d_0_1)"> <path d="M337.397 145.053C338.757 147.548 340.306 150.648 342.044 154.352C343.858 157.981 345.71 161.95 347.599 166.259C349.564 170.493 351.491 174.84 353.38 179.3C355.27 183.76 357.045 187.956 358.708 191.887C360.371 187.956 362.147 183.76 364.036 179.3C365.925 174.84 367.815 170.493 369.704 166.259C371.669 161.95 373.52 157.981 375.258 154.352C377.072 150.648 378.659 147.548 380.019 145.053H396.116C396.872 150.27 397.552 156.129 398.157 162.63C398.837 169.056 399.404 175.785 399.857 182.815C400.386 189.77 400.84 196.763 401.217 203.794C401.671 210.825 402.049 217.44 402.351 223.639H385.121C384.894 216.003 384.592 207.687 384.214 198.691C383.836 189.695 383.269 180.623 382.513 171.475C381.153 174.651 379.642 178.166 377.979 182.021C376.316 185.877 374.654 189.733 372.991 193.588C371.404 197.444 369.855 201.148 368.344 204.701C366.832 208.179 365.547 211.165 364.489 213.66H352.133C351.075 211.165 349.791 208.179 348.279 204.701C346.768 201.148 345.181 197.444 343.518 193.588C341.931 189.733 340.306 185.877 338.644 182.021C336.981 178.166 335.47 174.651 334.109 171.475C333.354 180.623 332.787 189.695 332.409 198.691C332.031 207.687 331.729 216.003 331.502 223.639H314.272C314.574 217.44 314.914 210.825 315.292 203.794C315.745 196.763 316.199 189.77 316.652 182.815C317.181 175.785 317.748 169.056 318.353 162.63C319.033 156.129 319.751 150.27 320.506 145.053H337.397Z" fill="black"/> <path d="M439.925 211.845C441.587 211.845 443.174 211.808 444.686 211.732C446.197 211.656 447.406 211.543 448.313 211.392V198.578C447.633 198.427 446.613 198.275 445.253 198.124C443.892 197.973 442.645 197.897 441.512 197.897C439.925 197.897 438.413 198.011 436.977 198.238C435.617 198.389 434.408 198.729 433.35 199.258C432.292 199.787 431.461 200.506 430.856 201.413C430.252 202.32 429.949 203.454 429.949 204.815C429.949 207.461 430.818 209.313 432.556 210.371C434.37 211.354 436.826 211.845 439.925 211.845ZM438.564 162.403C443.552 162.403 447.709 162.97 451.034 164.104C454.359 165.238 457.004 166.864 458.969 168.981C461.009 171.097 462.445 173.668 463.277 176.692C464.108 179.716 464.524 183.08 464.524 186.784V221.938C462.105 222.467 458.742 223.072 454.435 223.752C450.127 224.508 444.913 224.886 438.791 224.886C434.937 224.886 431.423 224.546 428.249 223.866C425.15 223.185 422.468 222.089 420.2 220.577C417.933 218.99 416.195 216.948 414.986 214.454C413.777 211.959 413.172 208.897 413.172 205.268C413.172 201.791 413.852 198.842 415.213 196.423C416.649 194.004 418.538 192.076 420.881 190.64C423.223 189.203 425.906 188.183 428.929 187.578C431.952 186.898 435.088 186.557 438.338 186.557C440.529 186.557 442.456 186.671 444.119 186.898C445.857 187.049 447.255 187.276 448.313 187.578V185.99C448.313 183.118 447.444 180.812 445.706 179.073C443.968 177.334 440.945 176.465 436.637 176.465C433.766 176.465 430.932 176.692 428.136 177.145C425.339 177.523 422.921 178.09 420.881 178.846L418.727 165.238C419.709 164.936 420.918 164.634 422.354 164.331C423.866 163.953 425.491 163.651 427.229 163.424C428.967 163.122 430.781 162.895 432.67 162.744C434.635 162.517 436.6 162.403 438.564 162.403Z" fill="black"/> <path d="M496.914 211.505C500.012 211.505 502.204 211.203 503.489 210.598C504.773 209.993 505.416 208.821 505.416 207.083C505.416 205.722 504.584 204.55 502.922 203.567C501.259 202.509 498.728 201.337 495.327 200.052C492.682 199.069 490.264 198.049 488.072 196.99C485.956 195.932 484.142 194.684 482.631 193.248C481.119 191.736 479.948 189.959 479.117 187.918C478.285 185.877 477.87 183.42 477.87 180.547C477.87 174.953 479.948 170.53 484.104 167.28C488.261 164.029 493.967 162.403 501.221 162.403C504.849 162.403 508.325 162.744 511.65 163.424C514.976 164.029 517.621 164.709 519.586 165.465L516.638 178.62C514.673 177.939 512.52 177.334 510.177 176.805C507.91 176.276 505.34 176.011 502.468 176.011C497.178 176.011 494.533 177.486 494.533 180.434C494.533 181.114 494.647 181.719 494.873 182.248C495.1 182.777 495.554 183.307 496.234 183.836C496.914 184.289 497.821 184.819 498.954 185.423C500.163 185.953 501.675 186.557 503.489 187.238C507.192 188.599 510.252 189.959 512.671 191.32C515.089 192.605 516.978 194.042 518.339 195.629C519.774 197.141 520.757 198.842 521.286 200.732C521.89 202.622 522.193 204.815 522.193 207.309C522.193 213.206 519.963 217.667 515.505 220.691C511.121 223.714 504.887 225.226 496.8 225.226C491.51 225.226 487.09 224.773 483.538 223.866C480.061 222.958 477.643 222.203 476.283 221.598L479.117 207.876C481.988 209.01 484.936 209.918 487.959 210.598C490.981 211.203 493.967 211.505 496.914 211.505Z" fill="black"/> <path d="M531.981 193.815C531.981 189.506 532.662 185.461 534.022 181.681C535.458 177.826 537.498 174.499 540.143 171.702C542.788 168.829 546 166.561 549.779 164.898C553.557 163.235 557.865 162.403 562.701 162.403C565.876 162.403 568.785 162.706 571.43 163.311C574.075 163.84 576.645 164.634 579.138 165.692L575.624 179.187C574.037 178.582 572.299 178.053 570.41 177.599C568.521 177.145 566.404 176.919 564.062 176.919C559.074 176.919 555.333 178.468 552.839 181.568C550.421 184.667 549.212 188.75 549.212 193.815C549.212 199.183 550.345 203.34 552.613 206.289C554.955 209.237 558.998 210.711 564.742 210.711C566.782 210.711 568.974 210.522 571.317 210.144C573.659 209.766 575.813 209.162 577.778 208.33L580.159 222.165C578.194 222.996 575.738 223.714 572.79 224.319C569.843 224.924 566.593 225.226 563.042 225.226C557.6 225.226 552.915 224.433 548.985 222.845C545.055 221.182 541.806 218.952 539.236 216.155C536.742 213.357 534.891 210.069 533.682 206.289C532.548 202.433 531.981 198.275 531.981 193.815Z" fill="black"/> <path d="M611.401 211.845C613.064 211.845 614.651 211.808 616.162 211.732C617.674 211.656 618.883 211.543 619.79 211.392V198.578C619.11 198.427 618.089 198.275 616.729 198.124C615.369 197.973 614.122 197.897 612.988 197.897C611.401 197.897 609.89 198.011 608.454 198.238C607.094 198.389 605.884 198.729 604.826 199.258C603.768 199.787 602.937 200.506 602.333 201.413C601.728 202.32 601.426 203.454 601.426 204.815C601.426 207.461 602.295 209.313 604.033 210.371C605.847 211.354 608.303 211.845 611.401 211.845ZM610.041 162.403C615.029 162.403 619.185 162.97 622.51 164.104C625.836 165.238 628.481 166.864 630.445 168.981C632.486 171.097 633.922 173.668 634.753 176.692C635.584 179.716 636 183.08 636 186.784V221.938C633.582 222.467 630.219 223.072 625.911 223.752C621.603 224.508 616.389 224.886 610.268 224.886C606.413 224.886 602.899 224.546 599.725 223.866C596.627 223.185 593.944 222.089 591.677 220.577C589.41 218.99 587.672 216.948 586.462 214.454C585.253 211.959 584.649 208.897 584.649 205.268C584.649 201.791 585.329 198.842 586.689 196.423C588.125 194.004 590.014 192.076 592.357 190.64C594.7 189.203 597.383 188.183 600.405 187.578C603.428 186.898 606.565 186.557 609.814 186.557C612.006 186.557 613.933 186.671 615.595 186.898C617.334 187.049 618.732 187.276 619.79 187.578V185.99C619.79 183.118 618.921 180.812 617.183 179.073C615.444 177.334 612.421 176.465 608.114 176.465C605.242 176.465 602.408 176.692 599.612 177.145C596.816 177.523 594.397 178.09 592.357 178.846L590.203 165.238C591.186 164.936 592.395 164.634 593.831 164.331C595.342 163.953 596.967 163.651 598.705 163.424C600.443 163.122 602.257 162.895 604.146 162.744C606.111 162.517 608.076 162.403 610.041 162.403Z" fill="black"/> <path d="M266.985 181.519C266.985 222.675 233.634 256.039 192.493 256.039C151.351 256.039 118 222.675 118 181.519C118 140.363 151.351 107 192.493 107C233.634 107 266.985 140.363 266.985 181.519Z" fill="url(#paint1_linear_0_1)"/> <path d="M177.918 166.939C177.918 162.466 181.543 158.84 186.015 158.84H279.94C284.412 158.84 288.037 162.466 288.037 166.939V210.679C288.037 215.152 284.412 218.779 279.94 218.779H186.015C181.543 218.779 177.918 215.152 177.918 210.679V166.939Z" fill="black"/> </g> <path d="M506.908 506L520.549 404.417H532.303L559.005 454.773L585.417 404.417H597.316L610.812 506H596.3L585.997 423.137L589.625 423.718L559.15 481.91L528.095 423.718L531.723 423.137L521.419 506H506.908ZM637.901 507.451C633.499 507.451 629.653 506.556 626.364 504.766C623.074 502.977 620.511 500.534 618.673 497.438C616.883 494.342 615.988 490.811 615.988 486.844C615.988 482.829 616.859 479.395 618.6 476.541C620.39 473.639 622.76 471.244 625.711 469.358C628.71 467.423 632.048 465.899 635.724 464.786C639.4 463.625 643.198 462.803 647.116 462.319C651.082 461.787 654.88 461.497 658.508 461.449C658.508 454.676 657.177 450.25 654.517 448.17C651.856 446.09 648.011 445.05 642.98 445.05C640.319 445.05 637.465 445.461 634.418 446.284C631.419 447.106 628.033 448.823 624.26 451.435L622.373 440.842C625.227 438.665 628.782 436.899 633.039 435.545C637.296 434.142 641.771 433.441 646.463 433.441C652.461 433.441 657.298 434.505 660.975 436.633C664.651 438.713 667.336 442.245 669.029 447.227C670.722 452.209 671.568 458.982 671.568 467.544V482.055C671.568 485.442 671.713 488.247 672.004 490.472C672.342 492.649 673.068 494.294 674.18 495.406C675.341 496.471 677.179 497.003 679.695 497.003H681.001L678.969 507.451H677.953C673.745 507.451 670.48 507.04 668.158 506.218C665.884 505.395 664.143 504.21 662.934 502.662C661.724 501.114 660.636 499.228 659.668 497.003C657.008 500.099 653.864 502.614 650.236 504.549C646.608 506.484 642.496 507.451 637.901 507.451ZM640.368 497.003C643.851 497.003 647.212 496.132 650.453 494.391C653.743 492.649 656.427 490.327 658.508 487.425V470.446C651.59 470.688 645.979 471.365 641.674 472.478C637.417 473.59 634.297 475.259 632.314 477.484C630.33 479.709 629.339 482.588 629.339 486.119C629.339 489.94 630.355 492.722 632.386 494.463C634.466 496.156 637.127 497.003 640.368 497.003ZM706.9 507.451C700.611 507.451 695.387 506.701 691.227 505.202C687.115 503.702 684.213 502.372 682.52 501.211L684.116 488.586C685.664 489.94 688.397 491.488 692.316 493.23C696.234 494.971 700.902 495.842 706.319 495.842C710.915 495.842 714.422 495.068 716.841 493.52C719.308 491.972 720.541 489.795 720.541 486.989C720.541 484.522 719.743 482.539 718.147 481.04C716.599 479.492 714.712 478.282 712.487 477.412C710.31 476.493 708.254 475.767 706.319 475.235C703.079 474.364 699.717 473.276 696.234 471.97C692.799 470.615 689.897 468.608 687.527 465.947C685.156 463.287 683.971 459.562 683.971 454.773C683.971 451.145 684.842 447.711 686.583 444.47C688.325 441.18 691.155 438.52 695.073 436.488C698.991 434.457 704.191 433.441 710.673 433.441C715.414 433.441 719.259 433.949 722.21 434.965C725.209 435.932 727.797 436.972 729.974 438.085L728.377 449.984C726.297 448.243 723.879 446.768 721.122 445.558C718.364 444.349 714.978 443.744 710.963 443.744C706.9 443.744 703.586 444.518 701.023 446.066C698.459 447.566 697.177 449.984 697.177 453.322C697.177 456.66 698.531 459.03 701.24 460.433C703.998 461.836 708.158 463.384 713.721 465.077C715.462 465.56 717.469 466.262 719.743 467.181C722.065 468.1 724.314 469.333 726.491 470.881C728.668 472.429 730.458 474.461 731.86 476.976C733.311 479.443 734.037 482.539 734.037 486.264C734.037 489.408 733.287 492.625 731.788 495.914C730.288 499.155 727.579 501.888 723.661 504.113C719.743 506.339 714.156 507.451 706.9 507.451ZM775.115 507.451C767.085 507.451 760.337 505.831 754.871 502.59C749.453 499.3 745.341 494.898 742.536 489.384C739.778 483.821 738.4 477.654 738.4 470.881C738.4 463.819 739.73 457.458 742.39 451.798C745.099 446.139 749.235 441.664 754.798 438.375C760.361 435.085 767.472 433.441 776.13 433.441C779.855 433.441 783.362 433.828 786.652 434.602C789.989 435.327 792.964 436.343 795.576 437.649L793.545 449.114C790.884 447.856 788.054 446.864 785.055 446.139C782.105 445.413 779.033 445.05 775.84 445.05C768.004 445.05 762.03 447.275 757.918 451.726C753.806 456.176 751.751 462.368 751.751 470.301C751.751 478.041 753.71 484.256 757.628 488.949C761.546 493.641 767.52 495.987 775.55 495.987C778.839 495.987 781.984 495.6 784.983 494.826C788.03 494.052 790.933 492.988 793.69 491.633L795.431 502.082C793.496 503.436 790.667 504.67 786.942 505.782C783.217 506.895 779.275 507.451 775.115 507.451ZM820.551 507.451C816.15 507.451 812.304 506.556 809.015 504.766C805.725 502.977 803.161 500.534 801.323 497.438C799.533 494.342 798.639 490.811 798.639 486.844C798.639 482.829 799.509 479.395 801.251 476.541C803.04 473.639 805.411 471.244 808.362 469.358C811.361 467.423 814.698 465.899 818.375 464.786C822.051 463.625 825.848 462.803 829.766 462.319C833.733 461.787 837.53 461.497 841.158 461.449C841.158 454.676 839.828 450.25 837.168 448.17C834.507 446.09 830.661 445.05 825.631 445.05C822.97 445.05 820.116 445.461 817.069 446.284C814.069 447.106 810.683 448.823 806.91 451.435L805.024 440.842C807.878 438.665 811.433 436.899 815.69 435.545C819.947 434.142 824.421 433.441 829.113 433.441C835.112 433.441 839.949 434.505 843.625 436.633C847.302 438.713 849.986 442.245 851.679 447.227C853.372 452.209 854.219 458.982 854.219 467.544V482.055C854.219 485.442 854.364 488.247 854.654 490.472C854.993 492.649 855.718 494.294 856.831 495.406C857.992 496.471 859.83 497.003 862.346 497.003H863.652L861.62 507.451H860.604C856.396 507.451 853.131 507.04 850.809 506.218C848.535 505.395 846.794 504.21 845.584 502.662C844.375 501.114 843.287 499.228 842.319 497.003C839.659 500.099 836.514 502.614 832.887 504.549C829.259 506.484 825.147 507.451 820.551 507.451ZM823.018 497.003C826.501 497.003 829.863 496.132 833.104 494.391C836.394 492.649 839.078 490.327 841.158 487.425V470.446C834.241 470.688 828.63 471.365 824.325 472.478C820.068 473.59 816.948 475.259 814.964 477.484C812.981 479.709 811.989 482.588 811.989 486.119C811.989 489.94 813.005 492.722 815.037 494.463C817.117 496.156 819.777 497.003 823.018 497.003ZM923.161 507.451C917.599 507.451 912.858 506.339 908.94 504.113C905.022 501.84 902.023 498.405 899.943 493.81C897.911 489.215 896.895 483.362 896.895 476.251V434.892H909.956V472.623C909.956 480.169 911.238 485.925 913.801 489.892C916.413 493.858 920.646 495.842 926.499 495.842C930.514 495.842 934.239 494.874 937.673 492.939C941.108 491.004 943.478 487.909 944.784 483.652L942.898 490.763V434.892H955.958V506H944.349L941.737 492.069L945.219 494.391C942.849 498.792 939.947 502.082 936.512 504.259C933.126 506.387 928.676 507.451 923.161 507.451ZM969.369 541.119V434.892H979.527L981.849 451.145L978.221 448.533C981.221 443.889 984.921 440.213 989.323 437.504C993.725 434.795 999.118 433.441 1005.5 433.441C1011.99 433.441 1017.55 435.085 1022.19 438.375C1026.84 441.664 1030.39 446.114 1032.86 451.726C1035.33 457.289 1036.56 463.529 1036.56 470.446C1036.56 477.363 1035.4 483.628 1033.08 489.239C1030.75 494.802 1027.3 499.228 1022.7 502.517C1018.1 505.807 1012.37 507.451 1005.5 507.451C999.844 507.451 994.717 506.29 990.121 503.968C985.574 501.598 982.285 498.067 980.253 493.375L982.43 490.763V541.119H969.369ZM1003.04 495.842C1009.37 495.842 1014.31 493.617 1017.84 489.166C1021.42 484.668 1023.21 478.428 1023.21 470.446C1023.21 462.464 1021.42 456.249 1017.84 451.798C1014.31 447.3 1009.37 445.05 1003.04 445.05C999.118 445.05 995.539 445.994 992.298 447.88C989.105 449.718 986.542 452.524 984.607 456.297C982.672 460.022 981.704 464.738 981.704 470.446C981.704 476.396 982.672 481.233 984.607 484.958C986.542 488.683 989.105 491.44 992.298 493.23C995.539 494.971 999.118 495.842 1003.04 495.842ZM1073.95 507.451C1067.9 507.451 1062.43 505.807 1057.55 502.517C1052.66 499.228 1048.77 494.802 1045.87 489.239C1043.01 483.676 1041.59 477.46 1041.59 470.591C1041.59 464.061 1042.89 457.966 1045.5 452.306C1048.16 446.647 1051.91 442.1 1056.75 438.665C1061.59 435.182 1067.32 433.441 1073.95 433.441C1078.69 433.441 1083.26 434.481 1087.66 436.561C1092.11 438.593 1095.72 442.003 1098.47 446.792L1095.72 448.678V397.161H1108.78V506H1097.17L1094.7 490.908L1098.04 493.23C1095.96 497.922 1092.69 501.477 1088.24 503.896C1083.79 506.266 1079.03 507.451 1073.95 507.451ZM1076.27 495.842C1079.56 495.842 1082.8 494.995 1085.99 493.302C1089.23 491.609 1091.89 488.924 1093.97 485.248C1096.1 481.523 1097.17 476.638 1097.17 470.591C1097.17 464.98 1096.1 460.288 1093.97 456.515C1091.89 452.693 1089.23 449.839 1085.99 447.953C1082.8 446.018 1079.56 445.05 1076.27 445.05C1071.82 445.05 1068 446.163 1064.8 448.388C1061.61 450.613 1059.17 453.661 1057.48 457.53C1055.78 461.352 1054.94 465.705 1054.94 470.591C1054.94 475.187 1055.78 479.395 1057.48 483.216C1059.17 487.038 1061.61 490.11 1064.8 492.431C1068 494.705 1071.82 495.842 1076.27 495.842ZM1138.48 507.451C1134.08 507.451 1130.23 506.556 1126.94 504.766C1123.65 502.977 1121.09 500.534 1119.25 497.438C1117.46 494.342 1116.57 490.811 1116.57 486.844C1116.57 482.829 1117.44 479.395 1119.18 476.541C1120.97 473.639 1123.34 471.244 1126.29 469.358C1129.29 467.423 1132.63 465.899 1136.3 464.786C1139.98 463.625 1143.78 462.803 1147.69 462.319C1151.66 461.787 1155.46 461.497 1159.09 461.449C1159.09 454.676 1157.76 450.25 1155.1 448.17C1152.44 446.09 1148.59 445.05 1143.56 445.05C1140.9 445.05 1138.04 445.461 1135 446.284C1132 447.106 1128.61 448.823 1124.84 451.435L1122.95 440.842C1125.81 438.665 1129.36 436.899 1133.62 435.545C1137.88 434.142 1142.35 433.441 1147.04 433.441C1153.04 433.441 1157.88 434.505 1161.55 436.633C1165.23 438.713 1167.91 442.245 1169.61 447.227C1171.3 452.209 1172.15 458.982 1172.15 467.544V482.055C1172.15 485.442 1172.29 488.247 1172.58 490.472C1172.92 492.649 1173.65 494.294 1174.76 495.406C1175.92 496.471 1177.76 497.003 1180.27 497.003H1181.58L1179.55 507.451H1178.53C1174.32 507.451 1171.06 507.04 1168.74 506.218C1166.46 505.395 1164.72 504.21 1163.51 502.662C1162.3 501.114 1161.21 499.228 1160.25 497.003C1157.59 500.099 1154.44 502.614 1150.81 504.549C1147.19 506.484 1143.08 507.451 1138.48 507.451ZM1140.95 497.003C1144.43 497.003 1147.79 496.132 1151.03 494.391C1154.32 492.649 1157.01 490.327 1159.09 487.425V470.446C1152.17 470.688 1146.56 471.365 1142.25 472.478C1138 473.59 1134.88 475.259 1132.89 477.484C1130.91 479.709 1129.92 482.588 1129.92 486.119C1129.92 489.94 1130.93 492.722 1132.97 494.463C1135.05 496.156 1137.71 497.003 1140.95 497.003ZM1210.42 507.451C1205.92 507.451 1202.31 506.629 1199.6 504.984C1196.9 503.339 1194.91 501.235 1193.65 498.672C1192.44 496.059 1191.84 493.326 1191.84 490.472V445.05H1179.65L1180.81 434.892H1191.84V417.333L1204.9 416.027V434.892H1223.62V445.05H1204.9V482.491C1204.9 487.038 1205.17 490.327 1205.7 492.359C1206.23 494.391 1207.54 495.672 1209.62 496.205C1211.75 496.737 1215.16 497.003 1219.85 497.003H1223.19L1222.17 507.451H1210.42ZM1263.97 507.451C1255.6 507.451 1248.56 505.734 1242.85 502.299C1237.14 498.865 1232.81 494.318 1229.86 488.658C1226.96 482.95 1225.51 476.686 1225.51 469.866C1225.51 463.238 1226.86 457.168 1229.57 451.653C1232.33 446.139 1236.3 441.737 1241.47 438.447C1246.7 435.11 1252.98 433.441 1260.34 433.441C1266.24 433.441 1271.49 434.626 1276.08 436.996C1280.73 439.318 1284.35 442.728 1286.97 447.227C1289.63 451.677 1290.96 457.095 1290.96 463.48C1290.96 464.496 1290.91 465.609 1290.81 466.818C1290.76 467.979 1290.62 469.188 1290.38 470.446H1238.86C1239.49 477.025 1241.06 482.152 1243.58 485.829C1246.09 489.505 1249.26 492.093 1253.08 493.592C1256.9 495.092 1261.06 495.842 1265.56 495.842C1268.85 495.842 1272.29 495.503 1275.86 494.826C1279.44 494.149 1282.83 493.084 1286.02 491.633L1287.76 501.937C1285.01 503.146 1281.65 504.38 1277.68 505.637C1273.71 506.847 1269.14 507.451 1263.97 507.451ZM1240.02 461.449H1277.46C1277.46 458.111 1276.83 455.209 1275.57 452.742C1274.32 450.275 1272.41 448.388 1269.84 447.082C1267.28 445.728 1264.01 445.05 1260.05 445.05C1254.24 445.05 1249.77 446.501 1246.62 449.404C1243.53 452.258 1241.33 456.273 1240.02 461.449ZM1327.92 507.451C1321.87 507.451 1316.41 505.807 1311.52 502.517C1306.64 499.228 1302.74 494.802 1299.84 489.239C1296.99 483.676 1295.56 477.46 1295.56 470.591C1295.56 464.061 1296.87 457.966 1299.48 452.306C1302.14 446.647 1305.89 442.1 1310.72 438.665C1315.56 435.182 1321.29 433.441 1327.92 433.441C1332.66 433.441 1337.23 434.481 1341.64 436.561C1346.09 438.593 1349.69 442.003 1352.45 446.792L1349.69 448.678V397.161H1362.75V506H1351.14L1348.67 490.908L1352.01 493.23C1349.93 497.922 1346.67 501.477 1342.22 503.896C1337.77 506.266 1333 507.451 1327.92 507.451ZM1330.24 495.842C1333.53 495.842 1336.77 494.995 1339.97 493.302C1343.21 491.609 1345.87 488.924 1347.95 485.248C1350.08 481.523 1351.14 476.638 1351.14 470.591C1351.14 464.98 1350.08 460.288 1347.95 456.515C1345.87 452.693 1343.21 449.839 1339.97 447.953C1336.77 446.018 1333.53 445.05 1330.24 445.05C1325.79 445.05 1321.97 446.163 1318.78 448.388C1315.59 450.613 1313.14 453.661 1311.45 457.53C1309.76 461.352 1308.91 465.705 1308.91 470.591C1308.91 475.187 1309.76 479.395 1311.45 483.216C1313.14 487.038 1315.59 490.11 1318.78 492.431C1321.97 494.705 1325.79 495.842 1330.24 495.842ZM608.347 659.451C602.059 659.451 596.834 658.701 592.674 657.202C588.563 655.702 585.66 654.372 583.967 653.211L585.563 640.586C587.111 641.94 589.844 643.488 593.763 645.23C597.681 646.971 602.349 647.842 607.767 647.842C612.362 647.842 615.869 647.068 618.288 645.52C620.755 643.972 621.988 641.795 621.988 638.989C621.988 636.522 621.19 634.539 619.594 633.04C618.046 631.492 616.159 630.282 613.934 629.412C611.757 628.493 609.701 627.767 607.767 627.235C604.526 626.364 601.164 625.276 597.681 623.97C594.246 622.615 591.344 620.608 588.974 617.947C586.603 615.287 585.418 611.562 585.418 606.773C585.418 603.145 586.289 599.711 588.03 596.47C589.772 593.18 592.602 590.52 596.52 588.488C600.438 586.457 605.638 585.441 612.12 585.441C616.861 585.441 620.706 585.949 623.657 586.965C626.656 587.932 629.244 588.972 631.421 590.085L629.825 601.984C627.744 600.243 625.326 598.768 622.569 597.558C619.811 596.349 616.425 595.744 612.41 595.744C608.347 595.744 605.033 596.518 602.47 598.066C599.906 599.566 598.624 601.984 598.624 605.322C598.624 608.66 599.979 611.03 602.687 612.433C605.445 613.836 609.605 615.384 615.168 617.077C616.909 617.56 618.916 618.262 621.19 619.181C623.512 620.1 625.761 621.333 627.938 622.881C630.115 624.429 631.905 626.461 633.307 628.976C634.759 631.443 635.484 634.539 635.484 638.264C635.484 641.408 634.734 644.625 633.235 647.914C631.735 651.155 629.026 653.888 625.108 656.113C621.19 658.339 615.603 659.451 608.347 659.451ZM669.451 659.451C663.888 659.451 659.148 658.339 655.229 656.113C651.311 653.84 648.312 650.405 646.232 645.81C644.2 641.215 643.184 635.362 643.184 628.251V586.892H656.245V624.623C656.245 632.169 657.527 637.925 660.091 641.892C662.703 645.858 666.936 647.842 672.789 647.842C676.804 647.842 680.528 646.874 683.963 644.939C687.397 643.004 689.767 639.909 691.074 635.652L689.187 642.763V586.892H702.248V658H690.638L688.026 644.069L691.509 646.391C689.139 650.792 686.236 654.082 682.802 656.259C679.416 658.387 674.965 659.451 669.451 659.451ZM748.31 659.451C740.28 659.451 733.532 657.831 728.066 654.59C722.649 651.3 718.537 646.898 715.731 641.384C712.974 635.821 711.595 629.654 711.595 622.881C711.595 615.819 712.926 609.458 715.586 603.798C718.295 598.139 722.431 593.664 727.994 590.375C733.557 587.085 740.667 585.441 749.326 585.441C753.051 585.441 756.558 585.828 759.847 586.602C763.185 587.327 766.16 588.343 768.772 589.649L766.74 601.114C764.08 599.856 761.25 598.864 758.251 598.139C755.3 597.413 752.228 597.05 749.036 597.05C741.199 597.05 735.225 599.275 731.114 603.726C727.002 608.176 724.946 614.368 724.946 622.301C724.946 630.041 726.905 636.256 730.824 640.949C734.742 645.641 740.716 647.987 748.746 647.987C752.035 647.987 755.179 647.6 758.178 646.826C761.226 646.052 764.128 644.988 766.885 643.633L768.627 654.082C766.692 655.436 763.862 656.67 760.137 657.782C756.413 658.895 752.47 659.451 748.31 659.451ZM808.863 659.451C800.833 659.451 794.085 657.831 788.619 654.59C783.201 651.3 779.09 646.898 776.284 641.384C773.527 635.821 772.148 629.654 772.148 622.881C772.148 615.819 773.478 609.458 776.139 603.798C778.848 598.139 782.984 593.664 788.547 590.375C794.109 587.085 801.22 585.441 809.879 585.441C813.604 585.441 817.111 585.828 820.4 586.602C823.738 587.327 826.713 588.343 829.325 589.649L827.293 601.114C824.633 599.856 821.803 598.864 818.804 598.139C815.853 597.413 812.781 597.05 809.589 597.05C801.752 597.05 795.778 599.275 791.667 603.726C787.555 608.176 785.499 614.368 785.499 622.301C785.499 630.041 787.458 636.256 791.376 640.949C795.295 645.641 801.269 647.987 809.299 647.987C812.588 647.987 815.732 647.6 818.731 646.826C821.779 646.052 824.681 644.988 827.438 643.633L829.18 654.082C827.245 655.436 824.415 656.67 820.69 657.782C816.966 658.895 813.023 659.451 808.863 659.451ZM870.867 659.451C862.499 659.451 855.461 657.734 849.753 654.299C844.045 650.865 839.715 646.318 836.764 640.658C833.862 634.95 832.411 628.686 832.411 621.866C832.411 615.238 833.765 609.168 836.474 603.653C839.231 598.139 843.198 593.737 848.374 590.447C853.598 587.11 859.887 585.441 867.239 585.441C873.141 585.441 878.389 586.626 882.985 588.996C887.628 591.318 891.256 594.728 893.869 599.227C896.529 603.677 897.859 609.095 897.859 615.48C897.859 616.496 897.811 617.609 897.714 618.818C897.666 619.979 897.521 621.188 897.279 622.446H845.762C846.391 629.025 847.963 634.152 850.478 637.829C852.994 641.505 856.162 644.093 859.983 645.592C863.805 647.092 867.965 647.842 872.464 647.842C875.753 647.842 879.187 647.503 882.767 646.826C886.347 646.149 889.733 645.084 892.925 643.633L894.667 653.937C891.909 655.146 888.548 656.38 884.581 657.637C880.614 658.847 876.043 659.451 870.867 659.451ZM846.923 613.449H884.363C884.363 610.111 883.734 607.209 882.477 604.742C881.219 602.275 879.308 600.388 876.745 599.082C874.181 597.728 870.916 597.05 866.949 597.05C861.144 597.05 856.67 598.501 853.526 601.404C850.43 604.258 848.229 608.273 846.923 613.449ZM926.842 659.451C920.554 659.451 915.329 658.701 911.169 657.202C907.058 655.702 904.155 654.372 902.462 653.211L904.059 640.586C905.607 641.94 908.34 643.488 912.258 645.23C916.176 646.971 920.844 647.842 926.262 647.842C930.857 647.842 934.364 647.068 936.783 645.52C939.25 643.972 940.483 641.795 940.483 638.989C940.483 636.522 939.685 634.539 938.089 633.04C936.541 631.492 934.654 630.282 932.429 629.412C930.252 628.493 928.197 627.767 926.262 627.235C923.021 626.364 919.659 625.276 916.176 623.97C912.741 622.615 909.839 620.608 907.469 617.947C905.099 615.287 903.913 611.562 903.913 606.773C903.913 603.145 904.784 599.711 906.526 596.47C908.267 593.18 911.097 590.52 915.015 588.488C918.933 586.457 924.133 585.441 930.615 585.441C935.356 585.441 939.201 585.949 942.152 586.965C945.151 587.932 947.739 588.972 949.916 590.085L948.32 601.984C946.24 600.243 943.821 598.768 941.064 597.558C938.307 596.349 934.92 595.744 930.905 595.744C926.842 595.744 923.529 596.518 920.965 598.066C918.401 599.566 917.119 601.984 917.119 605.322C917.119 608.66 918.474 611.03 921.183 612.433C923.94 613.836 928.1 615.384 933.663 617.077C935.404 617.56 937.412 618.262 939.685 619.181C942.007 620.1 944.256 621.333 946.433 622.881C948.61 624.429 950.4 626.461 951.803 628.976C953.254 631.443 953.979 634.539 953.979 638.264C953.979 641.408 953.23 644.625 951.73 647.914C950.23 651.155 947.522 653.888 943.603 656.113C939.685 658.339 934.098 659.451 926.842 659.451ZM982.577 659.451C976.288 659.451 971.064 658.701 966.904 657.202C962.792 655.702 959.89 654.372 958.197 653.211L959.793 640.586C961.341 641.94 964.074 643.488 967.992 645.23C971.91 646.971 976.578 647.842 981.996 647.842C986.592 647.842 990.099 647.068 992.517 645.52C994.984 643.972 996.218 641.795 996.218 638.989C996.218 636.522 995.42 634.539 993.823 633.04C992.275 631.492 990.389 630.282 988.164 629.412C985.987 628.493 983.931 627.767 981.996 627.235C978.755 626.364 975.393 625.276 971.91 623.97C968.476 622.615 965.574 620.608 963.203 617.947C960.833 615.287 959.648 611.562 959.648 606.773C959.648 603.145 960.519 599.711 962.26 596.47C964.002 593.18 966.831 590.52 970.75 588.488C974.668 586.457 979.868 585.441 986.35 585.441C991.09 585.441 994.936 585.949 997.887 586.965C1000.89 587.932 1003.47 588.972 1005.65 590.085L1004.05 601.984C1001.97 600.243 999.556 598.768 996.798 597.558C994.041 596.349 990.655 595.744 986.64 595.744C982.577 595.744 979.263 596.518 976.699 598.066C974.136 599.566 972.854 601.984 972.854 605.322C972.854 608.66 974.208 611.03 976.917 612.433C979.674 613.836 983.834 615.384 989.397 617.077C991.139 617.56 993.146 618.262 995.42 619.181C997.742 620.1 999.991 621.333 1002.17 622.881C1004.34 624.429 1006.13 626.461 1007.54 628.976C1008.99 631.443 1009.71 634.539 1009.71 638.264C1009.71 641.408 1008.96 644.625 1007.46 647.914C1005.96 651.155 1003.26 653.888 999.338 656.113C995.42 658.339 989.833 659.451 982.577 659.451ZM1023.07 658V597.05H1010.74L1012.48 586.892H1023.07V570.058C1023.07 563.721 1024.77 558.666 1028.15 554.893C1031.54 551.072 1036.52 549.161 1043.1 549.161C1045.52 549.161 1047.62 549.331 1049.41 549.669C1051.25 550.008 1052.92 550.467 1054.42 551.048L1052.39 562.077C1051.23 561.641 1050.09 561.327 1048.98 561.133C1047.86 560.892 1046.58 560.771 1045.13 560.771C1042.33 560.771 1040.13 561.569 1038.53 563.165C1036.93 564.713 1036.13 567.301 1036.13 570.929V586.892H1055.29V597.05H1036.13V658H1023.07ZM1087.37 659.451C1081.81 659.451 1077.07 658.339 1073.15 656.113C1069.23 653.84 1066.23 650.405 1064.15 645.81C1062.12 641.215 1061.1 635.362 1061.1 628.251V586.892H1074.16V624.623C1074.16 632.169 1075.45 637.925 1078.01 641.892C1080.62 645.858 1084.85 647.842 1090.71 647.842C1094.72 647.842 1098.45 646.874 1101.88 644.939C1105.32 643.004 1107.69 639.909 1108.99 635.652L1107.11 642.763V586.892H1120.17V658H1108.56L1105.94 644.069L1109.43 646.391C1107.06 650.792 1104.15 654.082 1100.72 656.259C1097.33 658.387 1092.88 659.451 1087.37 659.451ZM1151.86 659.451C1147.27 659.451 1143.61 658.629 1140.91 656.984C1138.24 655.291 1136.33 653.139 1135.17 650.526C1134.01 647.914 1133.43 645.181 1133.43 642.327V549.161H1146.49V634.781C1146.49 638.844 1146.76 641.892 1147.29 643.924C1147.82 645.955 1148.89 647.31 1150.48 647.987C1152.13 648.664 1154.62 649.003 1157.96 649.003L1156.07 659.451H1151.86ZM1181.8 659.451C1177.21 659.451 1173.56 658.629 1170.85 656.984C1168.19 655.291 1166.28 653.139 1165.12 650.526C1163.95 647.914 1163.37 645.181 1163.37 642.327V549.161H1176.43V634.781C1176.43 638.844 1176.7 641.892 1177.23 643.924C1177.76 645.955 1178.83 647.31 1180.43 647.987C1182.07 648.664 1184.56 649.003 1187.9 649.003L1186.01 659.451H1181.8ZM1197.84 693.119L1214.24 654.807L1184.63 586.892H1199.14L1221.35 639.715L1241.37 586.892H1255.89L1212.35 693.119H1197.84ZM1264 633.04V629.267L1261.09 556.417H1279.09L1276.19 629.267V633.04H1264ZM1262.25 658V642.617H1277.93V658H1262.25Z" fill="#262626"/> <defs> <filter id="filter0_d_0_1" x="0" y="0" width="1874" height="953" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"> <feFlood flood-opacity="0" result="BackgroundImageFix"/> <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/> <feOffset dx="4" dy="4"/> <feGaussianBlur stdDeviation="10"/> <feComposite in2="hardAlpha" operator="out"/> <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/> <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_0_1"/> <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_0_1" result="shape"/> </filter> <filter id="filter1_d_0_1" x="115.577" y="107" width="522.847" height="153.886" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"> <feFlood flood-opacity="0" result="BackgroundImageFix"/> <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/> <feOffset dy="2.42339"/> <feGaussianBlur stdDeviation="1.2117"/> <feComposite in2="hardAlpha" operator="out"/> <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/> <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_0_1"/> <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_0_1" result="shape"/> </filter> <linearGradient id="paint0_linear_0_1" x1="1800.5" y1="923.5" x2="33.9999" y2="18.5002" gradientUnits="userSpaceOnUse"> <stop offset="0.0001" stop-color="#FAC9D6"/> <stop offset="1" stop-color="#FFCFAC"/> </linearGradient> <linearGradient id="paint1_linear_0_1" x1="377" y1="107" x2="377" y2="256.039" gradientUnits="userSpaceOnUse"> <stop stop-color="#FE3D67"/> <stop offset="1" stop-color="#FF7131"/> </linearGradient> </defs> </svg>'
      ),
      divider(),
      text(
        'To learn more about changes visit the [changelog](https://docs.masca.io).'
      ),
    ]);
    await snap.request({
      method: 'snap_dialog',
      params: {
        type: 'alert',
        content: component,
      },
    });
  }

  static async snapConfirm(params: {
    content: Component;
    force?: boolean;
  }): Promise<boolean> {
    const { content, force = false } = params;
    const state = StorageService.get();

    const { disablePopups, friendlyDapps } =
      state[CURRENT_STATE_VERSION].config.dApp;

    // Show popups if force is true or if popups are not disabled AND the dapp is not friendly
    if (force || !(disablePopups || friendlyDapps.includes(this.origin))) {
      const res = await snap.request({
        method: 'snap_dialog',
        params: {
          type: 'confirmation',
          content,
        },
      });
      return res as boolean;
    }
    return true;
  }

  static async snapAlert(params: {
    content: Component;
    force?: boolean;
  }): Promise<void> {
    const { content, force = false } = params;
    const state = StorageService.get();

    const { disablePopups, friendlyDapps } =
      state[CURRENT_STATE_VERSION].config.dApp;

    // Show popups if force is true or if popups are not disabled AND the dapp is not friendly
    if (force || !(disablePopups || friendlyDapps.includes(this.origin))) {
      await snap.request({
        method: 'snap_dialog',
        params: {
          type: 'alert',
          content,
        },
      });
    }
  }

  static async queryAllDialog(params: {
    vcs: QueryCredentialsRequestResult[];
  }): Promise<boolean> {
    const { vcs } = params;
    const uiPanel = panel([
      heading('Share Verifiable Credentials'),
      ...this.originWrapper,
      text('Would you like to share your credentials with this dapp?'),
      divider(),
      text(`**Number of VCs: ${vcs.length.toString()}**`),
      divider(),
      text(`Pop-ups can be disabled in settings on masca.io.`),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel });
    return res;
  }

  static async saveCredentialDialog(params: {
    store: string | string[];
    verifiableCredential: any;
  }) {
    const { store, verifiableCredential } = params;
    const uiPanel = panel([
      heading('Save Verifiable Credential'),
      ...this.originWrapper,
      text('Would you like to save the credential below?'),
      divider(),
      text(
        `Credential will be saved in the following data store(s): **${
          typeof store === 'string' ? store : store.join(', ')
        }**`
      ),
      divider(),
      text(`Credential:`),
      copyable(JSON.stringify(verifiableCredential, null, 2)),
    ]);
    const res = await UIService.snapConfirm({ content: uiPanel });
    return res;
  }

  static async createCredentialDialog(params: {
    save: boolean | undefined;
    storeString: string;
    minimalUnsignedCredential: any;
    did: string;
  }) {
    const { save, storeString, minimalUnsignedCredential, did } = params;
    const uiPanel = panel([
      heading('Create and Save Verifiable Credential'),
      ...this.originWrapper,
      text(`DID: **${did}**`),
      divider(),
      text(
        `Would you like to ${
          save === true ? 'sign and save' : 'sign'
        } the credential below?`
      ),
      divider(),
      text(`${storeString}`),
      text(`Credential:`),
      copyable(JSON.stringify(minimalUnsignedCredential, null, 2)),
    ]);
    const res = await UIService.snapConfirm({ content: uiPanel });
    return res;
  }

  static async deleteCredentialDialog(params: {
    store: string | string[];
    vcs: QueryCredentialsRequestResult[];
  }) {
    const { store, vcs } = params;
    const uiPanel = panel([
      heading('Delete Verifiable Credential'),
      ...this.originWrapper,
      text('Are you sure you want to delete this credential?'),
      divider(),
      text(
        `Credential will be deleted from the following data store(s): **${
          typeof store === 'string' ? store : store.join(', ')
        }**`
      ),
      divider(),
      text(`Credential: ${JSON.stringify(vcs, null, 2)}`),
    ]);
    const res = await UIService.snapConfirm({ content: uiPanel });
    return res;
  }

  static async createPresentationDialog(params: {
    vcs: W3CVerifiableCredential[];
    did: string;
  }) {
    const { vcs, did } = params;
    const uiPanel = panel([
      heading('Create Verifiable Presentation'),
      ...this.originWrapper,
      text(`DID: **${did}**`),
      divider(),
      text(
        'Would you like to create a presentation from the credentials below?'
      ),
      divider(),
      text(`Credentials:`),
      ...vcs.map((vc) => copyable(JSON.stringify(vc, null, 2))),
    ]);
    const res = await UIService.snapConfirm({ content: uiPanel });
    return res;
  }

  static async handleCredentialOfferDialog(data: any) {
    const uiPanel = panel([
      heading('Credential Offer'),
      ...this.originWrapper,
      text('Would you like to accept the Credential Offer?'),
      divider(),
      text(`Data:`),
      text(JSON.stringify(data, null, 2)),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel });
    return res;
  }

  static async handleAuthorizationRequestDialog(data: any) {
    const uiPanel = panel([
      heading('Authorization Request'),
      ...this.originWrapper,
      text('Would you like to accept the Authorization Request?'),
      divider(),
      text(`Data:`),
      text(JSON.stringify(data, null, 2)),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel });
    return res;
  }

  static async togglePopupsDialog() {
    const uiPanel = panel([
      heading('Toggle Pop-ups'),
      ...this.originWrapper,
      text('Would you like to turn off pop-ups?'),
      divider(),
      text(
        'This can result in a better user experience, but you will not be able to see what the dapp is requesting.'
      ),
    ]);
    const res = await UIService.snapConfirm({ content: uiPanel, force: true });
    return res;
  }

  static async addFriendlyDappDialog(origin: string) {
    const uiPanel = panel([
      heading('Add Friendly DApp'),
      ...this.originWrapper,
      text(`Would you like to add ${origin} as a friendly dapp?`),
      divider(),
      text('Pop-ups do not appear on friendly dapps.'),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel, force: true });
    return res;
  }

  static async removeFriendlyDappDialog(origin: string) {
    const uiPanel = panel([
      heading('Remove Friendly DApp'),
      ...this.originWrapper,
      text(
        `Would you like to remove ${origin} from the list of friendly dapps?`
      ),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel });
    return res;
  }

  static async getPinDialog() {
    const pin = await snap.request({
      method: 'snap_dialog',
      params: {
        type: 'prompt',
        content: panel([
          heading('Enter the PIN you received from the issuer'),
          ...this.originWrapper,
        ]),
        placeholder: 'PIN...',
      },
    });
    return pin;
  }

  static async exportBackupDialog() {
    const uiPanel = panel([
      heading('Export Backup'),
      ...this.originWrapper,
      text(
        'This method returns the encrypted backup of your Masca state. You can use this backup to restore your state on different device.'
      ),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel, force: true });
    return res;
  }

  static async importBackupDialog() {
    const uiPanel = panel([
      heading('Import Backup'),
      ...this.originWrapper,
      text(
        'This method allows you to import an encrypted backup of your Masca state.'
      ),
      divider(),
      text(
        'Please note that this will **overwrite** your current Masca state.'
      ),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel, force: true });
    return res;
  }

  static async signDataJWTDialog(params: {
    header: JWTHeader;
    payload: JWTPayload;
  }) {
    const uiPanel = panel([
      heading('Sign Data'),
      ...this.originWrapper,
      text('Would you like to sign the following JWT?'),
      divider(),
      text(`Header:`),
      copyable(JSON.stringify(params.header, null, 2)),
      divider(),
      text(`Payload:`),
      copyable(JSON.stringify(params.payload, null, 2)),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel });

    return res;
  }

  static async signDataJWZDialog(params: { data: JSONObject }) {
    const uiPanel = panel([
      heading('Sign Data'),
      ...this.originWrapper,
      text('Would you like to sign the following data?'),
      copyable(JSON.stringify(params.data, null, 2)),
    ]);

    const res = await UIService.snapConfirm({ content: uiPanel });

    return res;
  }
}

export default UIService;
